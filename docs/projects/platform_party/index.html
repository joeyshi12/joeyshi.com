<!DOCTYPE HTML>
<html lang="en">
<head>
    <title>Platform Party</title>
    <meta charset="utf-8"/>
    <meta name="author" content="Joey Shi"/>
    <meta name="description" content="Software developer and enjoyer of all things math and Linux."/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="description" property="og:description" content="Software developer and enjoyer of all things math and Linux.">
    <meta name="image" property="og:image" content="/img/preview.jpg">
    <meta itemprop="name" content="Joey Shi">
    <meta itemprop="description" content="Software developer and enjoyer of all things math and Linux.">
    <meta itemprop="image" content="/img/preview.jpg">
    <meta property="og:url" content="https://joeyshi.xyz">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Joey Shi">
    <meta property="og:description" content="Software developer and enjoyer of all things math and Linux.">
    <meta property="og:image" content="/img/preview.jpg">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Joey Shi">
    <meta name="twitter:description" content="Software developer and enjoyer of all things math and Linux.">
    <meta name="twitter:image" content="/img/preview.jpg">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/css/common.css"/>
    <link rel="stylesheet" href="/css/single.css"/>
    <link rel="icon" href="/favicon.ico">
</head>
<body>
    <div class="navbar">
        <ul class="navbar-nav">
            <li class="nav-item">
                <a href="/" class="nav-link">
                    <i class="fa-solid fa-house icon"></i>
                    <span class="link-text">Home</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="/projects" class="nav-link">
                    <i class="fa-solid fa-diagram-project icon"></i>
                    <span class="link-text">Projects</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="/posts" class="nav-link">
                    <i class="fa-solid fa-blog icon"></i>
                    <span class="link-text">Posts</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="/tags" class="nav-link">
                    <i class="fa-solid fa-tag icon"></i>
                    <span class="link-text">Tags</span>
                </a>
            </li>
            <li class="nav-item">
                <span>Â© 2023 Joey Shi</span>
            </li>
        </ul>
    </div>
    <div class="page-body">
    <div class="breadcrumbs">
        <a class="parent-link" href="https://joeyshi.xyz/projects/">Projects</a>
        <span><i class="fa-solid fa-caret-right"></i></span>
        <h2 class="single-title">Platform Party</h2>
    </div>
    <div class="content"><p>Real-time multiplayer browser platformer made with p5.</p>
<ul>
<li><a href="https://platform-party.joeyshi.xyz">Website</a></li>
<li><a href="https://github.com/joeyshi12/platform-party">Source code</a></li>
</ul>
<p>This was primarily made using TypeScript and various browser APIs.</p>
<h2 id="image-processing">Image processing</h2>
<p>The first API I leveraged was the canvas scripting API, which offered useful image processing functions.
To start using this feature, I added a canvas element in my main HTML template file</p>
<div class="highlight"><div style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span> <span style="color:#eceff4">&lt;</span><span style="color:#81a1c1">canvas</span> <span style="color:#8fbcbb">id</span><span style="color:#81a1c1">=</span><span style="color:#a3be8c">&#34;game&#34;</span><span style="color:#eceff4">&gt;&lt;/</span><span style="color:#81a1c1">canvas</span><span style="color:#eceff4">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Then, I get the <a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D">CanvasRenderingContext2D</a>
interface from this element in a separate script.</p>
<div class="highlight"><div style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span> <span style="color:#81a1c1;font-weight:bold">const</span> ctx <span style="color:#81a1c1">=</span> <span style="color:#81a1c1">document</span><span style="color:#eceff4">.</span>getElementById<span style="color:#eceff4">(</span><span style="color:#a3be8c">&#34;game&#34;</span><span style="color:#eceff4">).</span>getContext<span style="color:#eceff4">(</span><span style="color:#a3be8c">&#34;2d&#34;</span><span style="color:#eceff4">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>This interface contains useful methods, such as</p>
<div class="highlight"><div style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span> drawImage<span style="color:#eceff4">(</span>bitmap<span style="color:#eceff4">,</span> x<span style="color:#eceff4">,</span> y<span style="color:#eceff4">,</span> width<span style="color:#eceff4">,</span> height<span style="color:#eceff4">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>which I use to draw sprites on the screen.
This method requires the image in the form of a image bitmap
and to do that, we can use <a href="https://developer.mozilla.org/en-US/docs/Web/API/createImageBitmap">createImageBitmap</a>,
which returns a <code>Promise&lt;ImageBitmap&gt;</code>.</p>
<div class="highlight"><div style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span>createImageBitmap<span style="color:#eceff4">(</span>image<span style="color:#eceff4">)</span>
</span></span><span style="display:flex;"><span>createImageBitmap<span style="color:#eceff4">(</span>image<span style="color:#eceff4">,</span> options<span style="color:#eceff4">)</span>
</span></span><span style="display:flex;"><span>createImageBitmap<span style="color:#eceff4">(</span>image<span style="color:#eceff4">,</span> sx<span style="color:#eceff4">,</span> sy<span style="color:#eceff4">,</span> sw<span style="color:#eceff4">,</span> sh<span style="color:#eceff4">)</span>
</span></span><span style="display:flex;"><span>createImageBitmap<span style="color:#eceff4">(</span>image<span style="color:#eceff4">,</span> sx<span style="color:#eceff4">,</span> sy<span style="color:#eceff4">,</span> sw<span style="color:#eceff4">,</span> sh<span style="color:#eceff4">,</span> options<span style="color:#eceff4">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div>
    </div>
    </div>
</body>
</html>
